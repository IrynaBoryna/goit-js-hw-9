{"mappings":"YACC,IAAMA,EAAUC,SAASC,cAAc,SACjCC,EAASF,SAASC,cAAc,UAIjCE,EAAY,GACZC,EAAc,MAGpBL,EAAQM,iBAAiB,SAAS,SAACC,GACjCA,EAAIC,iBACJJ,EAAUG,EAAIE,OAAOC,MAAQH,EAAIE,OAAOE,MACxCC,aAAaC,QAAQR,EAAaS,KAAKC,UAAUX,G,IAGhD,IAAMY,EAAWF,KAAKG,MAAML,aAAaM,QAAQb,IAE5Cc,EAAQC,OAAOJ,EAASK,OACxBC,EAAOF,OAAOJ,EAASO,MACxBC,EAASJ,OAAOJ,EAASS,QAC7BC,QAAQC,IAAIR,GACZO,QAAQC,IAAIL,GACZI,QAAQC,IAAIH,GAEZrB,EAAOG,iBAAiB,cAWrBM,aAAagB,WAAWvB,IAT3B,IAAM,IAAIwB,EAAI,EAAGA,EAAIL,EAAQK,IAC5BC,SAAWD,EAAI,EACfV,GAAgBU,EAAIP,EACnBS,EAAcD,SAAUX,GASzB,SAASY,EAAcD,EAAUE,GAEjC,IAAMC,EAAgBC,KAAKC,SAAW,GACtB,IAAIC,SAAQ,SAACC,EAASC,GAEtCC,YAAW,WAEPN,EACFI,EAAQX,QAAQC,IAAI,eAAsCa,OAArBV,EAAS,cAAkBU,OAANR,EAAM,OAE9DM,EAAKZ,QAAQC,IAAI,gBAAuCa,OAArBV,EAAS,cAAkBU,OAANR,EAAM,M,GAC7DA,E,IAKIS,OACRC,MAAK,SAAAC,G,IAAGC,EAAQD,EAARb,SAAWe,EAAKF,EAALtB,MAChBK,QAAQC,IAAI,uBAAwCa,OAAfI,EAAS,QAAYJ,OAANK,G,IAErDC,OAAM,SAAAH,G,IAAGC,EAAQD,EAARb,SAAUiB,EAAKJ,EAALtB,MAClBK,QAAQC,IAAI,sBAAqCa,OAAfI,EAAS,QAAYJ,OAANO,G","sources":["src/js/03-promises.js"],"sourcesContent":["\n const formRef = document.querySelector('.form');\n const btnRef = document.querySelector('button');\n  //  const delayRef = formRef.frstElementChild;\n  //  const amountRef = btnRef.previousElementSibiling;\n  \n  let inputDate = {};\n  let STORAGE_KEY = 'KEY';\n\n\nformRef.addEventListener(\"input\", (evt) => {\n  evt.preventDefault();\n  inputDate[evt.target.name] = evt.target.value;\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(inputDate));\n    });\n   \n   const saveDate = JSON.parse(localStorage.getItem(STORAGE_KEY));\n    \n    let delay = Number(saveDate.delay);\n    let step = Number(saveDate.step);\n   let amount = Number(saveDate.amount);\n   console.log(delay);\n   console.log(step);\n   console.log(amount);\n\n   btnRef.addEventListener(\"submit\", inputDateRmove());\n\n   for ( let i = 0; i < amount; i++) {\n    position = i + 1;\n    delay = delay + i * step;\n     createPromise(position, delay)\n    }\n    \n\n    function inputDateRmove() {\n        \n      localStorage.removeItem(STORAGE_KEY);\n     };\n\n    function createPromise(position, delay) {\n\n    const shouldResolve = Math.random() > 0.3;\n    const promise = new Promise((resolve, reject) => {\n\n    setTimeout(() => {\n\n    if (shouldResolve) {\n      resolve(console.log(`✅{position: ${position} , delay: ${delay}}`));\n    } else {\n      reject(console.log(`❌ {position: ${position} , delay: ${delay}}`));\n   }  }, delay);\n   \n    })\n    \n\n     promise.race()\n    .then(({ position , delay }) => {\n        console.log(`✅ Fulfilled promise ${position} in ${delay}`);\n      })\n      .catch(({ position, delay }) => {\n        console.log(`❌ Rejected promise ${position} in ${delay}`)\n      });\n   \n    }\n\n    \n  \n\n\n  "],"names":["$ce04d3a99e08e73b$var$formRef","document","querySelector","$ce04d3a99e08e73b$var$btnRef","$ce04d3a99e08e73b$var$inputDate","$ce04d3a99e08e73b$var$STORAGE_KEY","addEventListener","evt","preventDefault","target","name","value","localStorage","setItem","JSON","stringify","$ce04d3a99e08e73b$var$saveDate","parse","getItem","$ce04d3a99e08e73b$var$delay","Number","delay","$ce04d3a99e08e73b$var$step","step","$ce04d3a99e08e73b$var$amount","amount","console","log","removeItem","$ce04d3a99e08e73b$var$i","position","$ce04d3a99e08e73b$var$createPromise","delay1","shouldResolve","Math","random","Promise","resolve","reject","setTimeout","concat","race","then","param","_$position","delay2","catch","delay3"],"version":3,"file":"03-promises.4ee7723a.js.map"}