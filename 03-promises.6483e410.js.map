{"mappings":"AACC,MAAMA,EAAUC,SAASC,cAAc,SACjCC,EAASF,SAASC,cAAc,UAIrC,IAAIE,EAAY,GAIlBJ,EAAQK,iBAAiB,SAAUC,IACjCA,EAAIC,iBACJH,EAAUE,EAAIE,OAAOC,MAAQH,EAAIE,OAAOE,MACxCC,aAAaC,QANK,MAMgBC,KAAKC,UAAUV,GAAW,IAG3D,MAAMW,EAAWF,KAAKG,MAAML,aAAaM,QATxB,QAWhB,IAAIC,EAAQC,OAAOJ,EAASK,OACxBC,EAAOF,OAAOJ,EAASO,MACxBC,EAASJ,OAAOJ,EAASS,QAC7BC,QAAQC,IAAIR,GACZO,QAAQC,IAAIL,GACZI,QAAQC,IAAIH,GAEZpB,EAAOE,iBAAiB,cAWrBM,aAAagB,WA7BC,QAoBjB,IAAM,IAAIC,EAAI,EAAGA,EAAIL,EAAQK,IAC5BC,SAAWD,EAAI,EACfV,GAAgBU,EAAIP,EACnBS,EAAcD,SAAUX,GASzB,SAASY,EAAcC,EAAUC,GAEjC,MAAMC,EAAgBC,KAAKC,SAAW,GACtB,IAAIC,SAAQ,CAACC,EAASC,KAEtCC,YAAW,KAEPN,EACFI,EAAQZ,QAAQC,IAAI,eAAaK,cAAuBC,OAEtDM,EAAKb,QAAQC,IAAI,gBAAcK,cAAuBC,MAAU,GAC/DA,EAAM,IAKFQ,OACRC,MAAK,EAACZ,SAAEA,EAAWT,MAAAsB,MAChBjB,QAAQC,IAAI,uBAAqBG,QAAiBa,IAAQ,IAE3DC,OAAM,EAACd,SAAEA,EAAUT,MAAAwB,MAClBnB,QAAQC,IAAI,sBAAoBG,QAAee,IAAQ,G","sources":["src/js/03-promises.js"],"sourcesContent":["\n const formRef = document.querySelector('.form');\n const btnRef = document.querySelector('button');\n  //  const delayRef = formRef.frstElementChild;\n  //  const amountRef = btnRef.previousElementSibiling;\n  \n  let inputDate = {};\n  let STORAGE_KEY = 'KEY';\n\n\nformRef.addEventListener(\"input\", (evt) => {\n  evt.preventDefault();\n  inputDate[evt.target.name] = evt.target.value;\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(inputDate));\n    });\n   \n   const saveDate = JSON.parse(localStorage.getItem(STORAGE_KEY));\n    \n    let delay = Number(saveDate.delay);\n    let step = Number(saveDate.step);\n   let amount = Number(saveDate.amount);\n   console.log(delay);\n   console.log(step);\n   console.log(amount);\n\n   btnRef.addEventListener(\"submit\", inputDateRmove());\n\n   for ( let i = 0; i < amount; i++) {\n    position = i + 1;\n    delay = delay + i * step;\n     createPromise(position, delay)\n    }\n    \n\n    function inputDateRmove() {\n        \n      localStorage.removeItem(STORAGE_KEY);\n     };\n\n    function createPromise(position, delay) {\n\n    const shouldResolve = Math.random() > 0.3;\n    const promise = new Promise((resolve, reject) => {\n\n    setTimeout(() => {\n\n    if (shouldResolve) {\n      resolve(console.log(`✅{position: ${position} , delay: ${delay}}`));\n    } else {\n      reject(console.log(`❌ {position: ${position} , delay: ${delay}}`));\n   }  }, delay);\n   \n    })\n    \n\n     promise.race()\n    .then(({ position , delay }) => {\n        console.log(`✅ Fulfilled promise ${position} in ${delay}`);\n      })\n      .catch(({ position, delay }) => {\n        console.log(`❌ Rejected promise ${position} in ${delay}`)\n      });\n   \n    }\n\n    \n  \n\n\n  "],"names":["$47d4ff9957288465$var$formRef","document","querySelector","$47d4ff9957288465$var$btnRef","$47d4ff9957288465$var$inputDate","addEventListener","evt","preventDefault","target","name","value","localStorage","setItem","JSON","stringify","$47d4ff9957288465$var$saveDate","parse","getItem","$47d4ff9957288465$var$delay","Number","delay","$47d4ff9957288465$var$step","step","$47d4ff9957288465$var$amount","amount","console","log","removeItem","i","position","$47d4ff9957288465$var$createPromise","position1","delay1","shouldResolve","Math","random","Promise","resolve","reject","setTimeout","race","then","delay2","catch","delay3"],"version":3,"file":"03-promises.6483e410.js.map"}