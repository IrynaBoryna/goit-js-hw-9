{"mappings":"AACC,MAAMA,EAAUC,SAASC,cAAc,SACjCC,EAASF,SAASC,cAAc,UAIrC,IAAIE,EAAY,GAIlBJ,EAAQK,iBAAiB,SAAUC,IACjCA,EAAIC,iBACJH,EAAUE,EAAIE,OAAOC,MAAQH,EAAIE,OAAOE,MACxCC,aAAaC,QANK,MAMgBC,KAAKC,UAAUV,GAAW,IAG3D,MAAMW,EAAWF,KAAKG,MAAML,aAAaM,QATxB,QAWhB,IAAIC,EAAQC,OAAOJ,EAASK,OACxBC,EAAOF,OAAOJ,EAASO,MACxBC,EAASJ,OAAOJ,EAASS,QAC7BC,QAAQC,IAAIR,GACZO,QAAQC,IAAIL,GACZI,QAAQC,IAAIH,GAGZ,IAAM,IAAII,EAAI,EAAGA,EAAIJ,EAAQI,IAC5BC,SAAWD,EAAI,EACfT,GAAgBS,EAAIN,EACnBQ,EAAcD,SAAUV,GACxBY,IAMD,SAASA,IAEPnB,aAAaoB,WA/BC,M,CAkChB,SAASF,EAAcG,EAAUC,GAEjC,MAAMC,EAAgBC,KAAKC,SAAW,GACtB,IAAIC,SAAQ,CAACC,EAASC,KAEtCC,YAAW,KAEPN,EACFI,EAAQb,QAAQC,IAAI,eAAaM,cAAuBC,OAEtDM,EAAKd,QAAQC,IAAI,gBAAcM,cAAuBC,MAAU,GAC/DA,EAAM,IAKFQ,KAAK,IACbC,MAAK,EAACd,SAAEA,EAAWR,MAAAuB,MAChBlB,QAAQC,IAAI,uBAAqBE,QAAiBe,IAAQ,IAE3DC,OAAM,EAAChB,SAAEA,EAAUR,MAAAyB,MAClBpB,QAAQC,IAAI,sBAAoBE,QAAeiB,IAAQ,G,CA5B/D1C,EAAOE,iBAAiB,SAAUyB","sources":["src/js/03-promises.js"],"sourcesContent":["\n const formRef = document.querySelector('.form');\n const btnRef = document.querySelector('button');\n  //  const delayRef = formRef.frstElementChild;\n  //  const amountRef = btnRef.previousElementSibiling;\n  \n  let inputDate = {};\n  let STORAGE_KEY = 'KEY';\n\n\nformRef.addEventListener(\"input\", (evt) => {\n  evt.preventDefault();\n  inputDate[evt.target.name] = evt.target.value;\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(inputDate));\n    });\n   \n   const saveDate = JSON.parse(localStorage.getItem(STORAGE_KEY));\n    \n    let delay = Number(saveDate.delay);\n    let step = Number(saveDate.step);\n   let amount = Number(saveDate.amount);\n   console.log(delay);\n   console.log(step);\n   console.log(amount);\n\n\n   for ( let i = 0; i < amount; i++) {\n    position = i + 1;\n    delay = delay + i * step;\n     createPromise(position, delay),\n     inputDateRmove()\n    }\n    \n\nbtnRef.addEventListener(\"submit\", inputDateRmove());\n\n    function inputDateRmove() {\n        \n      localStorage.removeItem(STORAGE_KEY);\n     };\n\n    function createPromise(position, delay) {\n\n    const shouldResolve = Math.random() > 0.3;\n    const promise = new Promise((resolve, reject) => {\n\n    setTimeout(() => {\n\n    if (shouldResolve) {\n      resolve(console.log(`✅{position: ${position} , delay: ${delay}}`));\n    } else {\n      reject(console.log(`❌ {position: ${position} , delay: ${delay}}`));\n   }  }, delay);\n   \n    })\n    \n\n     promise.race([])\n    .then(({ position , delay }) => {\n        console.log(`✅ Fulfilled promise ${position} in ${delay}`);\n      })\n      .catch(({ position, delay }) => {\n        console.log(`❌ Rejected promise ${position} in ${delay}`)\n      });\n   \n    }\n\n    \n  \n\n\n  "],"names":["$47d4ff9957288465$var$formRef","document","querySelector","$47d4ff9957288465$var$btnRef","$47d4ff9957288465$var$inputDate","addEventListener","evt","preventDefault","target","name","value","localStorage","setItem","JSON","stringify","$47d4ff9957288465$var$saveDate","parse","getItem","$47d4ff9957288465$var$delay","Number","delay","$47d4ff9957288465$var$step","step","$47d4ff9957288465$var$amount","amount","console","log","i","position","$47d4ff9957288465$var$createPromise","$47d4ff9957288465$var$inputDateRmove","removeItem","position1","delay1","shouldResolve","Math","random","Promise","resolve","reject","setTimeout","race","then","delay2","catch","delay3"],"version":3,"file":"03-promises.67e0016a.js.map"}